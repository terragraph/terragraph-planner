<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-runbook/Features">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Terragraph Planner" href="/terragraph-planner/opensearch.xml">
<link rel="stylesheet" href="/terragraph-planner/katex/katex.min.css"><title data-rh="true">Features | Terragraph Planner</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://terragraph.github.io//terragraph-planner/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" name="twitter:image" content="https://terragraph.github.io//terragraph-planner/logo/terragraph-logo-full-RGB.png"><meta data-rh="true" property="og:url" content="https://terragraph.github.io//terragraph-planner/runbook/Features"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Features | Terragraph Planner"><meta data-rh="true" name="description" content="Multi-SKU"><meta data-rh="true" property="og:description" content="Multi-SKU"><link data-rh="true" rel="icon" href="/terragraph-planner/logo/terragraph-logo-favicon-32x32-full-RGB.png"><link data-rh="true" rel="canonical" href="https://terragraph.github.io//terragraph-planner/runbook/Features"><link data-rh="true" rel="alternate" href="https://terragraph.github.io//terragraph-planner/runbook/Features" hreflang="en"><link data-rh="true" rel="alternate" href="https://terragraph.github.io//terragraph-planner/runbook/Features" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SZDKMHI44K-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/terragraph-planner/assets/css/styles.c0c42f19.css">
<link rel="preload" href="/terragraph-planner/assets/js/runtime~main.ef938dc5.js" as="script">
<link rel="preload" href="/terragraph-planner/assets/js/main.1681ee26.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/terragraph-planner/"><div class="navbar__logo"><img src="/terragraph-planner/logo/terragraph-logo-favicon-32x32-full-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/terragraph-planner/logo/terragraph-logo-favicon-32x32-white-RGB.svg" alt="Terragraph Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/terragraph/terragraph-planner" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link githubButton navbarIconButton" title="GitHub"></a><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link discordButton navbarIconButton" title="Discord"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link" href="/terragraph-planner/runbook">Runbook</a></li><li><a aria-current="page" class="dropdown__link" href="/terragraph-planner/algorithm">Algorithm</a></li><li><a aria-current="page" class="dropdown__link" href="/terragraph-planner/rf_modeling">RF Modeling</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terragraph-planner/">Terragraph Planner Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/terragraph-planner/runbook">Runbook</a><button aria-label="Toggle the collapsible sidebar category &#x27;Runbook&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-planner/runbook/Quick_Start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-planner/runbook/Input_Files">Input Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terragraph-planner/runbook/Output_Files">Output Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/terragraph-planner/runbook/Features">Features</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terragraph-planner/algorithm">Algorithm</a><button aria-label="Toggle the collapsible sidebar category &#x27;Algorithm&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terragraph-planner/rf_modeling">RF Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;RF Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/terragraph-planner/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/terragraph-planner/runbook"><span itemprop="name">Runbook</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Features</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Features</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-sku">Multi-SKU<a class="hash-link" href="#multi-sku" title="Direct link to heading">​</a></h2><p>The planner requires users to specify devices to be used in the network plan.
If multiple DN or CN types are included in the list of devices, the planner
can decide which type should be used to minimize cost and maximize coverage.</p><p><strong>How to add a device</strong></p><p>To add a new device, create a new entry in the <code>DEVICE_LIST</code> section and
populate the following fields.</p><table><thead><tr><th>Field name</th><th>Type</th><th>Meaning</th></tr></thead><tbody><tr><td>DEVICE_SKU</td><td>str</td><td>The device SKU or Name that used to identify the hardware</td></tr><tr><td>DEVICE_TYPE</td><td>str</td><td>The type of the device, which should be either DN or CN</td></tr><tr><td>NODE_CAPEX</td><td>float</td><td>Hardware cost of DN or CN</td></tr><tr><td>NUMBER_OF_NODES_PER_SITE</td><td>int</td><td>Maximum number of radio nodes allowed on each site; for CNs, this input must be 1</td></tr><tr><td>SECTOR_PARAMS</td><td>a struct with the fields in the following table</td><td>The set of radio specification parameters</td></tr></tbody></table><p>The set of radio specification parameters are:</p><table><thead><tr><th>Sector Params Fields</th><th></th><th></th></tr></thead><tbody><tr><td>HORIZONTAL_SCAN_RANGE</td><td>float</td><td>Per-sector horizontal beamforming scan range of the antenna in degrees</td></tr><tr><td>NUMBER_SECTORS_PER_NODE</td><td>float</td><td>Number of sectors in each node</td></tr><tr><td>ANTENNA_BORESIGHT_GAIN</td><td>float</td><td>Antenna gain at boresight (dBi)</td></tr><tr><td>MAXIMUM_TX_POWER</td><td>float</td><td>Maximum transmit power in dBm</td></tr><tr><td>MINIMUM_TX_POWER</td><td>float</td><td>Minimum transmit power in dBm</td></tr><tr><td>TX_DIVERSITY_GAIN</td><td>float</td><td>Transmitter diversity gain in dB (e.g., polarization diversity)</td></tr><tr><td>RX_DIVERSITY_GAIN</td><td>float</td><td>Receiver diversity gain in dB (e.g., polarization diversity)</td></tr><tr><td>TX_MISCELLANEOUS_LOSS</td><td>float</td><td>Miscellaneous losses on the transmitter in dB (e.g., cable losses)</td></tr><tr><td>RX_MISCELLANEOUS_LOSS</td><td>float</td><td>Miscellaneous losses on the receiver in dB (e.g., cable losses)</td></tr><tr><td>MINIMUM_MCS_LEVEL</td><td>int</td><td>The minimum MCS level allowed</td></tr><tr><td>ANTENNA_PATTERN_FILE_PATH</td><td>str</td><td>Antenna pattern file defining the signal loss of the antenna in different angles in Planet&#x27;s format (txt)</td></tr><tr><td>SCAN_PATTERN_FILE_PATH</td><td>str</td><td>Scan pattern file defining the signal gain of the antenna boresight in different scan angles (csv)</td></tr><tr><td>MCS_MAP_FILE_PATH</td><td>str</td><td>Scan pattern file contains the mapping between MCS, SNR, Mbps and Tx backoff (csv)</td></tr></tbody></table><p><strong>Multi-SKU Site Files</strong></p><p>If you choose to use an optional <a href="/terragraph-planner/runbook/Input_Files#user-input-site-file">Sites File</a>
in your plan, you may populate the Device SKU column in the CSV or field in the
KML file. If you wish to identify the device type for a particular site, the
SKU must correspond to one of the <code>DEVICE_SKU</code> entries you provide in the
<code>DEVICE_LIST</code> section. If it does not, an error will be returned.</p><p><strong>Note:</strong> All SKUs are case-insensitive.</p><p><strong>Specifying Multiple SKUs for a Single Site</strong></p><p>Leave the field blank. This will allow the system to choose a SKU for you
during the plan&#x27;s run. The Planner will take all the devices that match the
appropriate site type, place all SKUs at each site, and select among them. This
is equivalent to specifying multiple sites at the same location and explicitly
setting each one to each of the devices.</p><p><strong>How does Multi-SKU work?</strong></p><p>The planner places each available device at a site and selects the best device
to minimize cost and maximize coverage.</p><p>In general, you should not need to touch your sites file to switch between a
single-SKU run and a multi-SKU run. Instead, you can leave the Device SKU
column/field in the sites file blank and modify the device list. Of course, if
you have reason to predetermine a particular device type at a particular
site, specify the Device SKU explicitly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-site-detection">Automatic Site Detection<a class="hash-link" href="#automatic-site-detection" title="Direct link to heading">​</a></h2><p>In addition to candidate site locations provided by the user, the planner can
automatically determine candidate site locations on building rooftops. This
can help accelerate the planning time by helping skip the process of manual
placement of sites. It can help ensure that, for example, the highest point
on the rooftop is selected, which can be difficult to do manually.</p><p><strong>How to use it</strong></p><ol><li>Provide the building outline data in the .shp or .kml format. See more
details in <a href="/terragraph-planner/runbook/Input_Files#building-outline-file">Building Outline File</a>.</li><li>Populate the field under AUTOMATIC_SITE_DETECTION<ol><li>Set <code>DETECT_HIGHEST</code>, <code>DETECT_CENTERS</code>, <code>DETECT_CORNERS</code> based on which
type of location you want.<ul><li><code>DETECT_HIGHEST</code> will detect a site location on the highest point on
each building rooftop, based on the surface elevation data. If the
surface elevation data (DSM or DTM + DHM) is not provided, the
planner will use DETECT_CENTERS instead automatically.</li><li><code>DETECT_CENTERS</code> will detect a site location on the geometric center
of each building rooftop.</li><li><code>DETECT_CORNERS</code> will detect one or more locations on the corners of
each building rooftop. Set MAX_CORNER_ANGLE, which is used to filter
corners when DETECT_CORNERS is enabled. If not set, every vertex
on the rooftop is considered to be a corner.</li><li>Among all the candidate locations, the planner will pick the ones
with the most LOS links.</li></ul></li><li>Set <code>DN_DEPLOYMENT</code> as False if you don&#x27;t want to detect DN site location.
If enabled, the location with the most LOS links would be selected as
the DN location. A candidate CN is still placed at that same location
in case the planner decides that the DN is not needed.</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demand-models">Demand Models<a class="hash-link" href="#demand-models" title="Direct link to heading">​</a></h2><p>Demand sites are imaginary sites in the network that are added to represent
the final destination of downstream flow from the POPs. In graph theory
terminology, they are the sinks nodes of the directed graph that represents the
network. They are distinct from CNs because, in part,</p><ul><li>Not all networks will have a CN</li><li>Multiple CNs can connect to the same demand site allowing the network to
decide which CN is needed</li><li>A DN and a CN can connect to the same demand site allowing the network to
decide which one is needed (e.g., a DN can both serve the customer like a
CN while simultaneously pushing data to other customers downstream).</li><li>Each DN and CN can connect to a different number of demand sites resulting
in different overall demand requirements for each one</li></ul><p>Each demand site is associated with an amount of desired demand, i.e.,
throughput. The flexibility afforded by using demand sites enables several
different approaches to demand modeling.</p><p>There are three demand models that can be enabled:</p><ol><li>CN Demand</li><li>Uniform Demand</li><li>Manual Demand</li></ol><p><strong>CN Demand</strong></p><p>In this case, a demand site is added to every CN in the network. This is a
very common deployment scenario. Consider a rooftop deployment - the demand
sites in this case are effectively equivalent to subscribers.</p><p><strong>Uniform Demand</strong></p><p>A grid of demand sites is added within the area of interest. The spacing of the
grid is configurable and for each demand site, the DNs and CNs within a
specified distance of it are connected to it.</p><p>This can be useful when wanting to ensure coverage throughout a geographic
area to blanket it with service (e.g., for municipal Wi-Fi).</p><p><strong>Manual Demand</strong></p><p>The demand sites are added explicitly by the user. Like the Uniform Demand
model, for each demand site, the DNs and CNs within a specified distance of it
are connected to it.</p><p><strong>How to use it</strong></p><p>Parameters to control the demand site model are found under the <code>DIMENSIONING</code>
subsection of <code>NETWORK_DESIGN</code>.</p><ol><li>To enable the CN Demand model, set
<code>ENABLE_CN_DEMAND</code> to True. To enable the Uniform Demand model, set
<code>ENABLE_UNIFORM_DEMAND</code> to True. To enable the Manual Demand model, set
<code>ENABLE_MANUAL_DEMAND</code> to True. At least one must be set to True but
multiple can be enabled simultaneously, in which case demand sites will be
added according to each enabled model.</li><li>If <code>ENABLE_UNIFORM_DEMAND</code> is True, specify the grid spacing under
<code>DEMAND_SPACING</code>.</li><li>If <code>ENABLE_MANUAL_DEMAND</code> is True, specify the demand sites in the
<a href="/terragraph-planner/runbook/Input_Files#candidate-topology-file">Candidate Topology File</a>.</li><li>If <code>ENABLE_UNIFORM_DEMAND</code> or <code>ENABLE_MANUAL_DEMAND</code> is True, specify the
connection distance between the DNs/CNs and the demand sites under
<code>DEMAND_CONNECTION_RADIUS</code>.</li><li>Specify the amount of demand under <code>DEMAND</code>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tiered-service">Tiered Service<a class="hash-link" href="#tiered-service" title="Direct link to heading">​</a></h2><p>Tiered Service allows you to provide different levels of bandwidth to chosen
CNs when the CN Demand model is enabled. Example use-cases are:</p><ol><li>A region with single-family homes and multi-dwelling buildings with a
different number of units in each one. For example, assume you want each
customer to receive 100 Mbps of service and there is a building with 5
units and another with 3. This feature allows you to serve 500 Mbps of
service to the first building and 300 Mbps of service to the second which
is then further subdivided among the various customers so each one receives
exactly the desired amount of service.</li><li>Networks shared by businesses and residential homes where businesses require
more bandwidth.</li></ol><p>The feature works by creating multiple demand sites at specified CN locations.
For the example in #1 above, this means placing 5 demand sites on the CN on the
building with 5 units and 3 demand sites on the building with 3 units.</p><p><strong>How to use it</strong></p><ol><li>Set <code>ENABLE_CN_DEMAND</code> to True.</li><li>Modify the <a href="/terragraph-planner/runbook/Input_Files#user-input-site-file">User Input Site File</a>.<ol><li>For KML/KMZ input, for each relevant site, add a <code>number of subscribers</code>
data field and set to the desired value.</li><li>For CSV input, add a <code>number of subscribers</code> column and set it to the
desired value for each relevant site.</li></ol></li></ol><p>The <code>number of subscribers</code> field is only applied to CNs and ignored for DNs
and POPs. If left blank for a CN, it is assumed to be 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pop-placement">POP Placement<a class="hash-link" href="#pop-placement" title="Direct link to heading">​</a></h2><p>POP Placement allows you to specify additional POPs you would like to add to a
candidate topology. The POPs are selected from the candidate DNs.</p><p>This can be useful to meet demand requirements when the number of provided POPs
is insufficient. It can also help connect disconnected portions of the network.
It is particularlly useful in early-stage planning where not all possible POP
locations are already known.</p><p><strong>How to use it</strong></p><p>Specify the number of additional POPs you would like in <code>NUMBER_OF_EXTRA_POPS</code>
under the <code>NETWORK_DESIGN</code> section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="maximize-common-bandwidth">Maximize Common Bandwidth<a class="hash-link" href="#maximize-common-bandwidth" title="Direct link to heading">​</a></h2><p>Maximize Common Bandwidth (MCB) equally distributes bandwidth across all
connected demand sites during the network optimization steps. When MCB is
disabled, the total shortage (unsatisfied demand) in the network is minimized
but there are no guarantees of how that shortage is distributed among clients.</p><p>If the input demand is too high for the underlyling network, some clients can
be disconnected in order to improve the bandwidth to other clients. Consider
the following example. Suppose you have a single POP connected to 10 CNs.
For simplicity, assume that this POP has one sector and each of the links from
the POP to the CNs has a capacity of 1.8 Gbps. If you request that each CN
receives 200 Mbps of service, it will not be possible to satisfy that amount of
demand, so there will be (200 * 10 - 1800) = 200 Mbps shortage in the network.
With MCB disabled, that shortage can be split among all the CNs in different
ways (unfortunately, how it is distributed is unpredictable). It is possible
that the planner could provide 200 Mbps of service to 9 of the 10 CNs and leave
1 of the CNs disconnected. This is a common cause of disconnected sites when
planning networks.</p><p>One way to address this is to simply reduce the demand to 180 Mbps instead of
200 Mbps. However, it can often be difficult to determine what this value
should be in more complex networks. With MCB enabled, each of the 10 CNs will
get 180 Mbps of service because the shortage will be distributed among the CNs
evenly.</p><p>Unfortunately, this feature requires solving a few extra optimization problems
which might make the overall runtime worse. In many cases, simply adding more
POPs to the network or reducing the requested demand is a better alternative.</p><p><strong>How to use it</strong></p><p>To use the Maximize Common Bandwidth feature, set <code>MAXIMIZE_COMMON_BANDWIDTH</code> under
the <code>NETWORK_DESIGN</code> section to True.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extend-existing-candidate-graph">Extend Existing Candidate Graph<a class="hash-link" href="#extend-existing-candidate-graph" title="Direct link to heading">​</a></h2><p>This feature enables extending an already deployed &quot;base network&quot; with new
sites. LOS will be computed between the base network sites and the new sites
and between each of the new sites. This new candidate graph includes the base
network as a subgraph. The candidate graph is then optimized to generate a
network plan.</p><p><strong>How to use it</strong></p><ol><li>Get or generate the topology for the existing network. Store it as a
KML/KMZ or CSV using the same rules as
<a href="/terragraph-planner/runbook/Input_Files#candidate-topology-file">Candidate Topology File</a>.</li><li>Specify the file path in <code>BASE_TOPOLOGY_FILE_PATH</code> under the <code>DATA</code> section.</li><li>Generate a <a href="/terragraph-planner/runbook/Input_Files#user-input-site-file">User Input Site File</a> to
specify the new sites.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/terragraph/terragraph-planner/edit/main/docs/../docs/runbook/Features.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/terragraph-planner/runbook/Output_Files"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Output Files</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/terragraph-planner/algorithm"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Terragraph Planner Algorithm</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#multi-sku" class="table-of-contents__link toc-highlight">Multi-SKU</a></li><li><a href="#automatic-site-detection" class="table-of-contents__link toc-highlight">Automatic Site Detection</a></li><li><a href="#demand-models" class="table-of-contents__link toc-highlight">Demand Models</a></li><li><a href="#tiered-service" class="table-of-contents__link toc-highlight">Tiered Service</a></li><li><a href="#pop-placement" class="table-of-contents__link toc-highlight">POP Placement</a></li><li><a href="#maximize-common-bandwidth" class="table-of-contents__link toc-highlight">Maximize Common Bandwidth</a></li><li><a href="#extend-existing-candidate-graph" class="table-of-contents__link toc-highlight">Extend Existing Candidate Graph</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Terragraph</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://terragraph.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/connectivity/solutions/terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meta Connectivity<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/terragraph/meta-terragraph" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/terragraph-planner" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph Planner<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/terragraph/tgnms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terragraph NMS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/HQaxCevzus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/terragraph-planner/assets/js/runtime~main.ef938dc5.js"></script>
<script src="/terragraph-planner/assets/js/main.1681ee26.js"></script>
</body>
</html>